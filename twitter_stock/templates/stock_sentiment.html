{% load static from staticfiles %}

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="{% static 'css/c3.min.css' %}">

    <link rel="stylesheet" href="{% static 'css/stock_sentiment.css' %}">

    <title>APP NAME | Stock Sentiment | Universe Data</title>
</head>

<body>
    <div id="load-screen"></div>

    <div id="nav">APP NAME</div>

    <div id="chart-container">
        <div class="row">
            <div class="col-md-12"></div>
        </div>

        <div class="row dateselector">
            <div class="col-sm-12 center">
                <form class="row form-inline" name="rangeform"></form>
            </div>
        </div>

        <div class="row chart">
            <div class="col-md-12">
                <figure>
                    <div id="chart"></div>
                </figure>
            </div>
        </div>
    </div><!-- /chart-container -->

    <div id="sentiment-bar-container"></div>

    <div id="output-text-container"></div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
    <script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src='//cdnjs.cloudflare.com/ajax/libs/c3/0.4.10/c3.min.js'></script>

    <script src='{% static "js/stock_sentiment.js" %}'></script>

    <script>
        'use strict';

        //GLOBAL VARS
        var DATE    = "{{ current_date }}",
            SYMBOLS = {{ symbols|safe }},
            SCORES  = {{ scores |safe }};

        console.log(DATE, SYMBOLS, SCORES);

        //METHODS in 'js/stock_sentiment.js'

        //MAIN
        (function(callback) {

            getDataIndex();

            callback = function() {

                if(sessionStorage.DATA_INDEX) {

                    addSentimentBar();
                    printSymbolData([sessionStorage.SYMBOL, SCORES[sessionStorage.DATA_INDEX]]);
                }

                printUniverseInfo();
            }();
        }());
    </script>

    <script src='{% static "js/plotting.js" %}'></script>

    <script>
        'use strict';

        window.onload = function() {

            sessionStorage.clear();
            document.getElementById("load-screen").style.display = "none";
        }
    </script>
</body>
